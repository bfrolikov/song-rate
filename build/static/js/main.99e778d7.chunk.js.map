{"version":3,"sources":["Song.js","App.js","index.js"],"names":["Song","title","setTopSongs","upVote","a","axios","post","action","res","Object","entries","data","console","log","downVote","className","Button","icon","basic","onClick","Icon","name","style","color","App","useState","songs","setSongs","topSongs","useEffect","get","resp1","resp2","sort","b","error","fetchData","List","divided","relaxed","verticalAlign","map","it","Item","Segment","compact","height","align","Header","as","slice","marginLeft","ReactDOM","render","document","getElementById"],"mappings":"sWAoCeA,EAhCF,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,MAAMC,EAAkB,EAAlBA,YACZC,EAAM,uCAAI,4BAAAC,EAAA,+EAEUC,IAAMC,KAAK,cAAc,CAACL,MAAMA,EAAMM,OAAO,IAFvD,OAEFC,EAFE,OAGRN,EAAYO,OAAOC,QAAQF,EAAIG,OAHvB,gDAKRC,QAAQC,IAAR,MALQ,yDAAJ,qDAQNC,EAAQ,uCAAG,4BAAAV,EAAA,+EAESC,IAAMC,KAAK,cAAc,CAACL,MAAMA,EAAMM,OAAO,IAFtD,OAEHC,EAFG,OAGTN,EAAYO,OAAOC,QAAQF,EAAIG,OAHtB,gDAKTC,QAAQC,IAAR,MALS,yDAAH,qDAQd,OACI,sBAAKE,UAAU,OAAf,UACKd,EACD,sBAAKc,UAAU,gBAAf,UACI,cAACC,EAAA,EAAD,CAAQC,MAAI,EAACC,OAAK,EAACC,QAAShB,EAA5B,SACI,cAACiB,EAAA,EAAD,CAAMC,KAAK,oBAAoBC,MAAO,CAAEC,MAAO,aAEnD,cAACP,EAAA,EAAD,CAAQC,MAAI,EAACC,OAAK,EAACC,QAASL,EAA5B,SACI,cAACM,EAAA,EAAD,CAAMC,KAAK,sBAAsBC,MAAO,CAAEC,MAAO,kBCetDC,EAtCH,WAAO,IAAD,EACUC,mBAAS,IADnB,mBACTC,EADS,KACFC,EADE,OAEgBF,mBAAS,IAFzB,mBAETG,EAFS,KAEC1B,EAFD,KAgBhB,OAbA2B,qBAAU,YACO,uCAAG,8BAAAzB,EAAA,+EAEMC,IAAMyB,IAAI,cAFhB,cAERC,EAFQ,gBAGM1B,IAAMyB,IAAI,eAHhB,OAGRE,EAHQ,OAIdL,EAASI,EAAMpB,MACfT,EAAYO,OAAOC,QAAQsB,EAAMrB,MAAMsB,MAAK,SAAC7B,EAAG8B,GAAJ,OAAUA,EAAE,GAAK9B,EAAE,OALjD,kDAOdQ,QAAQuB,MAAM,uBAAd,MAPc,0DAAH,qDAUfC,KACC,IAED,sBAAKrB,UAAU,MAAf,UACE,qBAAKA,UAAU,WAAf,SACE,cAACsB,EAAA,EAAD,CAAMC,SAAO,EAACC,SAAO,EAACC,cAAc,SAApC,SACGd,EAAMe,KAAI,SAAAC,GAAE,OAAI,cAACL,EAAA,EAAKM,KAAN,UAAW,cAAC,EAAD,CAAM1C,MAAOyC,EAAId,SAAUA,EAAU1B,YAAaA,aAGlF,qBAAKa,UAAU,WAAf,SACE,eAAC6B,EAAA,EAAD,CAASC,SAAO,EAACvB,MAAO,CAACwB,OAAO,OAAhC,UACE,qBAAKC,MAAM,SAAX,SACE,cAACC,EAAA,EAAD,CAAQC,GAAG,KAAX,gFAEF,cAACZ,EAAA,EAAD,CAAME,SAAO,EAACD,SAAO,EAArB,SACGV,EAASK,MAAK,SAAC7B,EAAG8B,GAAJ,OAAUA,EAAE,GAAK9B,EAAE,MAAI8C,MAAM,EAAG,IAAIT,KAAI,SAAAC,GAAE,OAAI,eAACL,EAAA,EAAKM,KAAN,WAAYD,EAAG,GAAf,MAAsBA,EAAG,GAAzB,IAA6B,cAACtB,EAAA,EAAD,CAAMC,KAAK,oBAAoBC,MAAO,CAAE6B,WAAY,0BC7B1JC,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.99e778d7.chunk.js","sourcesContent":["import React from 'react';\r\nimport './css/Song.css'\r\nimport { Button, Icon } from 'semantic-ui-react'\r\nimport axios from 'axios';\r\nconst Song = ({ title,setTopSongs }) => {\r\n    const upVote  = async () =>{\r\n        try {\r\n            const res = await axios.post('/api/rating',{title:title,action:1});\r\n            setTopSongs(Object.entries(res.data));\r\n        } catch (error) {\r\n            console.log(error);\r\n        }        \r\n    }\r\n    const downVote = async ()=>{\r\n        try {\r\n            const res = await axios.post('/api/rating',{title:title,action:0});\r\n            setTopSongs(Object.entries(res.data));\r\n        } catch (error) {\r\n            console.log(error);\r\n        } \r\n    }\r\n    return (\r\n        <div className=\"song\">\r\n            {title}\r\n            <div className=\"ratingButtons\">\r\n                <Button icon basic onClick={upVote}>\r\n                    <Icon name=\"thumbs up outline\" style={{ color: 'green' }} />\r\n                </Button>\r\n                <Button icon basic onClick={downVote}>\r\n                    <Icon name=\"thumbs down outline\" style={{ color: 'red' }} />\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Song;","import React, { useState, useEffect } from 'react';\r\nimport './css/App.css';\r\nimport { List, Segment, Header, Icon } from 'semantic-ui-react'\r\nimport Song from './Song'\r\nimport axios from 'axios'\r\n\r\nconst App = () => {\r\n  const [songs, setSongs] = useState([]);\r\n  const [topSongs, setTopSongs] = useState([]);\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const resp1 = await axios.get(\"/api/songs\");\r\n        const resp2 = await axios.get(\"/api/rating\");\r\n        setSongs(resp1.data);\r\n        setTopSongs(Object.entries(resp2.data).sort((a, b) => b[1] - a[1]));\r\n      } catch (error) {\r\n        console.error(\"Error loading data: \", error)\r\n      }\r\n    }\r\n    fetchData();\r\n  }, [])\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"songList\">\r\n        <List divided relaxed verticalAlign=\"middle\">\r\n          {songs.map(it => <List.Item><Song title={it} topSongs={topSongs} setTopSongs={setTopSongs} /></List.Item>)}\r\n        </List>\r\n      </div >\r\n      <div className=\"topSongs\">\r\n        <Segment compact style={{height:'1px'}}>\r\n          <div align=\"center\">\r\n            <Header as=\"h2\">Текущий топ 10</Header>\r\n          </div>\r\n          <List relaxed divided>\r\n            {topSongs.sort((a, b) => b[1] - a[1]).slice(0, 10).map(it => <List.Item>{it[0]} : {it[1]} <Icon name=\"thumbs up outline\" style={{ marginLeft: '5px' }}></Icon></List.Item>)}\r\n          </List>\r\n\r\n        </Segment>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'semantic-ui-css/semantic.min.css'\r\nimport './css/index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}