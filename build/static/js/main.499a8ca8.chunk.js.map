{"version":3,"sources":["Song.js","App.js","index.js"],"names":["Song","title","setTopSongs","topSongs","className","Button","icon","basic","onClick","a","async","axios","post","action","res","Object","entries","data","console","log","Icon","name","style","color","App","useState","songs","setSongs","useEffect","get","resp1","resp2","sort","b","error","fetchData","List","divided","relaxed","verticalAlign","map","it","Item","Segment","compact","align","Header","as","slice","marginLeft","ReactDOM","render","document","getElementById"],"mappings":"qWAoCeA,EAhCF,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,MAAeC,GAAkB,EAA3BC,SAA2B,EAAlBD,aAiB3B,OACI,yBAAKE,UAAU,QACVH,EACD,yBAAKG,UAAU,iBACX,kBAACC,EAAA,EAAD,CAAQC,MAAI,EAACC,OAAK,EAACC,QApBf,0BAAAC,EAAAC,OAAA,2EAAAD,EAAA,MAEUE,IAAMC,KAAK,cAAc,CAACX,MAAMA,EAAMY,OAAO,KAFvD,OAEFC,EAFE,OAGRZ,EAAYa,OAAOC,QAAQF,EAAIG,OAHvB,gDAKRC,QAAQC,IAAR,MALQ,0DAqBA,kBAACC,EAAA,EAAD,CAAMC,KAAK,oBAAoBC,MAAO,CAAEC,MAAO,YAEnD,kBAAClB,EAAA,EAAD,CAAQC,MAAI,EAACC,OAAK,EAACC,QAfd,0BAAAC,EAAAC,OAAA,2EAAAD,EAAA,MAESE,IAAMC,KAAK,cAAc,CAACX,MAAMA,EAAMY,OAAO,KAFtD,OAEHC,EAFG,OAGTZ,EAAYa,OAAOC,QAAQF,EAAIG,OAHtB,gDAKTC,QAAQC,IAAR,MALS,0DAgBD,kBAACC,EAAA,EAAD,CAAMC,KAAK,sBAAsBC,MAAO,CAAEC,MAAO,aCetDC,EAtCH,WAAO,IAAD,EACUC,mBAAS,IADnB,mBACTC,EADS,KACFC,EADE,OAEgBF,mBAAS,IAFzB,mBAETtB,EAFS,KAECD,EAFD,KAgBhB,OAbA0B,qBAAU,YACU,qBAAAnB,EAAAC,OAAA,2EAAAD,EAAA,MAEME,IAAMkB,IAAI,eAFhB,cAERC,EAFQ,kBAAArB,EAAA,MAGME,IAAMkB,IAAI,gBAHhB,OAGRE,EAHQ,OAIdJ,EAASG,EAAMb,MACff,EAAYa,OAAOC,QAAQe,EAAMd,MAAMe,MAAK,SAACvB,EAAGwB,GAAJ,OAAUA,EAAE,GAAKxB,EAAE,OALjD,kDAOdS,QAAQgB,MAAM,uBAAd,MAPc,yDAUlBC,KACC,IAED,yBAAK/B,UAAU,OACb,yBAAKA,UAAU,YACb,kBAACgC,EAAA,EAAD,CAAMC,SAAO,EAACC,SAAO,EAACC,cAAc,UACjCb,EAAMc,KAAI,SAAAC,GAAE,OAAI,kBAACL,EAAA,EAAKM,KAAN,KAAW,kBAAC,EAAD,CAAMzC,MAAOwC,EAAItC,SAAUA,EAAUD,YAAaA,UAGlF,yBAAKE,UAAU,YACb,kBAACuC,EAAA,EAAD,CAASC,SAAO,GACd,yBAAKC,MAAM,UACT,kBAACC,EAAA,EAAD,CAAQC,GAAG,MAAX,qEAEF,kBAACX,EAAA,EAAD,CAAME,SAAO,EAACD,SAAO,GAClBlC,EAAS6B,MAAK,SAACvB,EAAGwB,GAAJ,OAAUA,EAAE,GAAKxB,EAAE,MAAIuC,MAAM,EAAG,IAAIR,KAAI,SAAAC,GAAE,OAAI,kBAACL,EAAA,EAAKM,KAAN,KAAYD,EAAG,GAAf,MAAsBA,EAAG,GAAzB,IAA6B,kBAACrB,EAAA,EAAD,CAAMC,KAAK,oBAAoBC,MAAO,CAAE2B,WAAY,kBC9B1JC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.499a8ca8.chunk.js","sourcesContent":["import React from 'react';\nimport './css/song.css'\nimport { Button, Icon } from 'semantic-ui-react'\nimport axios from 'axios';\nconst Song = ({ title,topSongs,setTopSongs }) => {\n    const upVote  = async () =>{\n        try {\n            const res = await axios.post('/api/rating',{title:title,action:1});\n            setTopSongs(Object.entries(res.data));\n        } catch (error) {\n            console.log(error);\n        }        \n    }\n    const downVote = async ()=>{\n        try {\n            const res = await axios.post('/api/rating',{title:title,action:0});\n            setTopSongs(Object.entries(res.data));\n        } catch (error) {\n            console.log(error);\n        } \n    }\n    return (\n        <div className=\"song\">\n            {title}\n            <div className=\"ratingButtons\">\n                <Button icon basic onClick={upVote}>\n                    <Icon name=\"thumbs up outline\" style={{ color: 'green' }} />\n                </Button>\n                <Button icon basic onClick={downVote}>\n                    <Icon name=\"thumbs down outline\" style={{ color: 'red' }} />\n                </Button>\n            </div>\n        </div>\n    );\n}\n\nexport default Song;","import React, { useState, useEffect } from 'react';\nimport './css/App.css';\nimport { List, Segment, Header, Icon } from 'semantic-ui-react'\nimport Song from './Song'\nimport axios from 'axios'\n\nconst App = () => {\n  const [songs, setSongs] = useState([]);\n  const [topSongs, setTopSongs] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const resp1 = await axios.get(\"/api/songs\");\n        const resp2 = await axios.get(\"/api/rating\");\n        setSongs(resp1.data);\n        setTopSongs(Object.entries(resp2.data).sort((a, b) => b[1] - a[1]));\n      } catch (error) {\n        console.error(\"Error loading data: \", error)\n      }\n    }\n    fetchData();\n  }, [])\n  return (\n    <div className=\"App\">\n      <div className=\"songList\">\n        <List divided relaxed verticalAlign=\"middle\">\n          {songs.map(it => <List.Item><Song title={it} topSongs={topSongs} setTopSongs={setTopSongs} /></List.Item>)}\n        </List>\n      </div >\n      <div className=\"topSongs\">\n        <Segment compact >\n          <div align=\"center\">\n            <Header as=\"h2\">Текущий топ 10</Header>\n          </div>\n          <List relaxed divided>\n            {topSongs.sort((a, b) => b[1] - a[1]).slice(0, 10).map(it => <List.Item>{it[0]} : {it[1]} <Icon name=\"thumbs up outline\" style={{ marginLeft: '5px' }}></Icon></List.Item>)}\n          </List>\n\n        </Segment>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}