(this.webpackJsonplikes=this.webpackJsonplikes||[]).push([[0],{138:function(e,t,a){e.exports=a(284)},143:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},284:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),s=a.n(c),o=(a(143),a(21)),l=a.n(o),i=a(77),u=(a(145),a(290)),p=a(293),m=a(292),d=a(24),f=(a(146),a(291)),v=a(32),g=a.n(v),E=function(e){var t=e.title,a=(e.topSongs,e.setTopSongs);return r.a.createElement("div",{className:"song"},t,r.a.createElement("div",{className:"ratingButtons"},r.a.createElement(f.a,{icon:!0,basic:!0,onClick:function(){var e;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,l.a.awrap(g.a.post("/api/rating",{title:t,action:1}));case 3:e=n.sent,a(Object.entries(e.data)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]])}},r.a.createElement(d.a,{name:"thumbs up outline",style:{color:"green"}})),r.a.createElement(f.a,{icon:!0,basic:!0,onClick:function(){var e;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,l.a.awrap(g.a.post("/api/rating",{title:t,action:0}));case 3:e=n.sent,a(Object.entries(e.data)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]])}},r.a.createElement(d.a,{name:"thumbs down outline",style:{color:"red"}}))))},b=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),o=Object(i.a)(s,2),f=o[0],v=o[1];return Object(n.useEffect)((function(){!function(){var e,t;l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,l.a.awrap(g.a.get("/api/songs"));case 3:return e=a.sent,a.next=6,l.a.awrap(g.a.get("/api/rating"));case 6:t=a.sent,c(e.data),v(Object.entries(t.data).sort((function(e,t){return t[1]-e[1]}))),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),console.error("Error loading data: ",a.t0);case 14:case"end":return a.stop()}}),null,null,[[0,11]])}()}),[]),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"songList"},r.a.createElement(u.a,{divided:!0,relaxed:!0,verticalAlign:"middle"},a.map((function(e){return r.a.createElement(u.a.Item,null,r.a.createElement(E,{title:e,topSongs:f,setTopSongs:v}))})))),r.a.createElement("div",{className:"topSongs"},r.a.createElement(p.a,{compact:!0},r.a.createElement("div",{align:"center"},r.a.createElement(m.a,{as:"h2"},"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0442\u043e\u043f 10")),r.a.createElement(u.a,{relaxed:!0,divided:!0},f.sort((function(e,t){return t[1]-e[1]})).slice(0,10).map((function(e){return r.a.createElement(u.a.Item,null,e[0]," : ",e[1]," ",r.a.createElement(d.a,{name:"thumbs up outline",style:{marginLeft:"5px"}}))}))))))};s.a.render(r.a.createElement(b,null),document.getElementById("root"))}},[[138,1,2]]]);
//# sourceMappingURL=main.499a8ca8.chunk.js.map